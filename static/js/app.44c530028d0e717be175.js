webpackJsonp([1],{NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("/5sW"),n=s("//Fk"),r=s.n(n);function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new r.a(function(e,s){var i=t.url,n=void 0===i?"":i,r=t.param,d=void 0===r?"callback":r,a=t.query,l=void 0===a?{}:a,o=t.timeout,c=void 0===o?1e4:o,u=document.createElement("script"),f=l[d]="__jsonp__"+Date.now(),p=[];for(var v in l)p.push(v+"="+l[v]);n+=(-1===n.indexOf("?")?"?":"&")+p.join("&"),u.src=n,document.body.appendChild(u),window[f]=function(t){e(t),clearTimeout(h.timer),document.body.removeChild(u),delete window[f]},h.timer=setTimeout(function(){s(),document.body.removeChild(u),delete window[f]},c)})}var d={name:"slide",props:{slides:{type:Array,default:[]},interval:{type:Number,default:2500},speed:{type:Number,default:400}},data:function(){return{currentIndex:0}},created:function(){this.flag=!0},computed:{current:function(){return this.currentIndex},next:function(){return this.currentIndex+1>=this.slides.length?0:this.currentIndex+1},prev:function(){return this.currentIndex-1<0?this.slides.length-1:this.currentIndex-1}},mounted:function(){this.autoPlay()},updated:function(){this.flag&&(this.init(),this.flag=!1)},methods:{init:function(){this.$width=this.$refs.slide.clientWidth,this.$refs.slideGroup.style.width=this.slides.length*this.$width+"px";for(var t=0;t<this.slides.length;t++)this.$refs.slideGroup.children[t].style.width=this.$width+"px",this.$refs.slideGroup.children[t].style.left=-this.$width*t+"px",this.$refs.slideGroup.children[t].style.transform="translateX("+this.$width+"px)";this.$refs.slideGroup.children[0].style.transform="translateX(0px)",this.$refs.slideGroup.children[this.slides.length-1].style.transform="translateX("+-this.$width+"px)"},translateX:function(t,e,s){this.$refs.slideGroup.children[t].style.transition="transform "+e+"ms ease",this.$refs.slideGroup.children[t].style.transform="translateX("+s+"px)"},touchStart:function(t){this.startX=t.changedTouches[0].clientX,this.isMove=!1,this.stop()},touchMove:function(t){this.diff=t.changedTouches[0].clientX-this.startX,this.translateX(this.current,0,this.diff),this.translateX(this.next,0,this.diff+this.$width),this.translateX(this.prev,0,this.diff-this.$width),this.isMove=!0},touchEnd:function(){this.isMove&&Math.abs(this.diff)>=this.$width/5?this.diff>0?(this.translateX(this.prev,this.speed,0),this.translateX(this.current,this.speed,this.$width),this.translateX(this.next,0,this.$width),this.currentIndex--):(this.translateX(this.prev,0,this.$width),this.translateX(this.current,this.speed,-this.$width),this.translateX(this.next,this.speed,0),this.currentIndex++):(this.translateX(this.current,this.speed,0),this.translateX(this.next,this.speed,this.$width),this.translateX(this.prev,this.speed,-this.$width)),this.currentIndex<0?this.currentIndex=this.slides.length-1:this.currentIndex>=this.slides.length&&(this.currentIndex=0),this.autoPlay()},autoPlay:function(){var t=this;this.stop(),this.timer=setInterval(function(){for(var e=0;e<t.slides.length;e++)e!==t.current&&t.translateX(e,0,t.$width);t.translateX(t.current,t.speed,-t.$width),t.translateX(t.next,t.speed,0),t.currentIndex++,t.currentIndex>=t.slides.length&&(t.currentIndex=0)},this.interval)},stop:function(){clearInterval(this.timer)}}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"slide",staticClass:"slide"},[t.slides.length?s("div",{ref:"slideGroup",staticClass:"slide-group"},t._l(t.slides,function(e,i){return s("div",{key:i,staticClass:"slide-item",on:{touchstart:t.touchStart,touchmove:t.touchMove,touchend:t.touchEnd}},[s("a",{attrs:{href:e.linkUrl}},[s("img",{attrs:{src:e.picUrl}})])])})):t._e(),t._v(" "),s("div",{staticClass:"dots"},t._l(t.slides.length,function(e,i){return s("span",{staticClass:"dot",class:{active:t.currentIndex===i}})}))])},staticRenderFns:[]};var l={name:"App",components:{slide:s("VU/8")(d,a,!1,function(t){s("yyvV")},null,null).exports},data:function(){return{slides:[]}},created:function(){this.getSlideData()},methods:{getSlideData:function(){var t=this;h({url:"https://c.y.qq.com/musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg?g_tk=5381&uin=0&format=json&inCharset=utf-8&outCharset=utf-8&notice=0&platform=h5&needNewCode=1&_=1541671098352",param:"jsonpCallback"}).then(function(e){t.slides=e.data.slider})}}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("slide",{attrs:{slides:this.slides}})],1)},staticRenderFns:[]};var c=s("VU/8")(l,o,!1,function(t){s("nfWX")},null,null).exports;i.a.config.productionTip=!1,new i.a({el:"#app",render:function(t){return t(c)}})},nfWX:function(t,e){},yyvV:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.44c530028d0e717be175.js.map